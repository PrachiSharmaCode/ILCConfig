<div class="row">

  <div class="division">
    <div class="collapse-division border border-secondary">
      <label class="collapse-division-label">
        <h5  data-toggle="collapse" href="#ilcConfig" role="button"
             aria-expanded="false" aria-controls="zoneTemp">
          ILC Config  <i id="ilcConfigIcon" class="material-icons float-right">
          keyboard_arrow_down
        </i>
        </h5>
      </label>
      <div class="collapse" id="ilcConfig">
        <div class="card card-body">
          <h6>Current Device Topic Stem</h6>
          <h6>CAMPUS/BUILDING</h6>
        </div>
      </div>
    </div>
    <div class="collapse-division div-inbetween-padding border border-secondary">
      <label class="collapse-division-label">
        <h5  data-toggle="collapse" href="#criteria" role="button"
             aria-expanded="false" aria-controls="zoneTemp">
          Criteria  <i id="criteriaIcon" class="material-icons float-right">
          keyboard_arrow_down
        </i>
        </h5>
      </label>
      <div class="collapse" id="criteria">
        <div class="card card-body">
          <h5>Ctriteria Names</h5>
          <ng-container *ngFor="let criteria of criteriaList;let index = index;trackBy: trackByIndex;">
            <h6>{{criteria}}  <button (click)="removeCriteria(index)"  style="color: crimson; background-color: transparent; border: none" class="material-icons float-right">
              close
            </button></h6>
            <hr>
          </ng-container>
          <div  class="row border border-secondary collapse-division" *ngIf="getCriteria" >
            <mat-form-field class="example-full-width " style="width: 80%; margin-left: 20px">
              <input matInput placeholder="Enter Criteria Name Here" [(ngModel)]="getCriteriaValue">
            </mat-form-field>
            <button (click)="UpdateCriteriaList()"  style="color: green; background-color: transparent; border: none" class="material-icons float-right">
              check
            </button>
          </div>

          <button id="addcriteria" (click)="addCriteria()"  type="button" class="btn btn-info btn-sm">
            Add Criteria
          </button>
        </div>
      </div>
    </div>
    <div class="collapse-division div-inbetween-padding border border-secondary">
      <label class="collapse-division-label">
        <h5  data-toggle="collapse" href="#Devices" role="button"
             aria-expanded="false" aria-controls="zoneTemp">
          Devices  <i id="deviceIcon"  class="material-icons float-right">
          keyboard_arrow_down
        </i>
        </h5>
      </label>
      <div class="collapse" id="Devices">
        <div class="card card-body">
          <ul style="list-style-type:none;">
            <li *ngFor="let device of devices">
              <h6>{{device}}</h6>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="collapse-division div-inbetween-padding border border-secondary">
      <label class="collapse-division-label">
        <h5  data-toggle="collapse" href="#pointNames" role="button"
             aria-expanded="false" aria-controls="zoneTemp">
          Point Names  <i id="pointNamesIcon" class="material-icons float-right">
          keyboard_arrow_down
        </i>
        </h5>
      </label>
      <div class="collapse" id="pointNames">
        <div class="card card-body">
          <h6>AverageZomeTemperature</h6>
          <h6>CoolingTemperatureSetPoint</h6>
          <h6>FirstStageCooling</h6>
        </div>
      </div>
    </div>
  </div>

  <div class="division">
    <h5>Criteria Configuration</h5>
    <div>
      <ng-container *ngFor="let device of devices;let index = index;trackBy: trackByIndex;">
        <div class="collapse-division border border-dark">
          <label class="collapse-division-label">
            <a  data-toggle="collapse" href="#{{devices[index]}}" role="button"
                aria-expanded="false" aria-controls="zoneTemp">
                {{device}}  {{campus}}/{{building}}/{{device}}
                <i class="material-icons float-right">
                  keyboard_arrow_down
                </i>
            </a>
          </label>
          <div class="collapse" id="{{devices[index]}}">
             <div class="card card-body">
                <mat-form-field class="example-full-width">
                  <input matInput placeholder="Stage Name"></mat-form-field>
                <ng-container *ngFor="let criteria of criteriaList;let i = index;trackBy: trackByIndex;">
                  <div>
                    <div class="collapse-division border border-secondary">
                      <label class="collapse-division-label">
                        <a data-toggle="collapse" href="#{{criteriaList[i]+i+index}}" role="button"
                           aria-expanded="false" aria-controls="zoneTemp">
                          {{criteria}}
                          <i class="material-icons float-right">
                            keyboard_arrow_down
                          </i>
                        </a>
                      </label>
                      <div class="collapse" id="{{criteriaList[i]+i+index}}">
                        <div class="card card-body">
                          <div class="input-group mb-3">
                            <mat-form-field style="width: 100%">
                              <mat-label>Choose Operation Type</mat-label>
                              <mat-select  [(ngModel)]= operationtype[index][i]>
                                <mat-option value="Formula">Formula</mat-option>
                                <mat-option value="status">status</mat-option>
                                <mat-option value="mapper">mapper</mat-option>
                                <mat-option value="constant">constant</mat-option>
                                <mat-option value="history">history</mat-option>
                              </mat-select>
                            </mat-form-field>
                            <div *ngIf="operationtype[index][i] == 'Formula'">
                              <app-formula-criteria [criteria]="criteria" (updateArgumenrt)= "checkArg($event)"></app-formula-criteria>
                            </div>
                            <div *ngIf="operationtype[index][i] == 'status'">
                              <app-status-criteria></app-status-criteria>
                            </div>
                            <div *ngIf="operationtype[index][i] == 'mapper'">
                              <app-mapper-criteria></app-mapper-criteria>
                            </div>
                            <div *ngIf="operationtype[index][i] == 'constant'">
                              <app-constatnt-criteria></app-constatnt-criteria>
                            </div>
                            <div *ngIf="operationtype[index][i] == 'history'">
                              <app-history-criteria></app-history-criteria>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </ng-container>
             </div>
          </div>
        </div>
       </ng-container>
    </div>
  </div>

  <div class="division">
    <div class="row">
      <h5 style="margin-left: 3%">File Preview</h5>
      <a style="margin-left: 3%"class="btn btn-outline-dark  button-size" (click)="onRefreshButton()">Refresh</a>
      <a style="margin-left: 3%"class="btn btn-outline-dark  button-size" (click)="savePairwiseCalculation()">Save As...</a>
    </div>
    <textarea id="checktext">
        {{finalCalcultion}}
    </textarea>
  </div>
</div>

